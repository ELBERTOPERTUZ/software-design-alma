<div class="table-responsive table-personalized">
  <table class="table table-hover align-middle mb-0">
    <thead class="table-light no-thead-border">
      <tr>
        <th style="width: 50%;">Nombre</th>
        <th class="d-none d-md-table-cell text-end text-nowrap" style="width: 10%;">Ciudad</th>
        <th class="d-none d-md-table-cell text-end text-nowrap" style="width: 10%;">Dirección</th>
        <th class="d-none d-md-table-cell text-end text-nowrap" style="width: 10%;">Creado</th>
        <th class="d-none d-md-table-cell text-end text-nowrap" style="width: 10%;">Rol</th>
        <th class="d-none d-md-table-cell text-end text-nowrap" style="width: 10%;">Acciones</th>
      </tr>
    </thead>
    <tbody>
      <% @users.each do |user| %>
        <tr>
          <!-- Columna visible en todas las pantallas -->
          <td>
            <div class="fw-bold"><%= user.name %> <%= user.last_name %></div>
            <div class="text-muted small"><%= user.email %></div>

            <!-- Ícono de teléfono en móviles -->
            <div class="d-md-none mt-2">
              <i class="bi bi-phone-fill text-primary fs-4"></i>
            </div>
          </td>

          <!-- Estas columnas solo en pantallas grandes -->
          <td class="d-none d-md-table-cell text-end text-nowrap px-1"><%= user.city %></td>
          <td class="d-none d-md-table-cell text-end text-nowrap px-1"><%= user.address %></td>
          <td class="d-none d-md-table-cell text-end text-nowrap px-1"><%= user.created_at.strftime("%Y-%m-%d") %></td>
          <td class="d-none d-md-table-cell text-end text-nowrap px-1">
            <span class="badge <%= user.admin? ? 'bg-danger-ok' : 'bg-secondary-ok' %>">
              <%= user.admin? ? "Admin" : "User" %>
            </span>
          </td>
          <td class="text-end d-none d-md-table-cell px-1">
            <%= link_to admin_user_path(user), class: 'text-decoration-none text-body mx-1', title: 'Ver' do %>
              <i class="bi bi-eye-fill fs-4 hover-opacity"></i>
            <% end %>

            <%= button_to admin_user_path(user),
                method: :delete,
                form: { data: { turbo: false } },
                data: { confirm: '¿Estás seguro?' },
                class: 'btn p-0 border-0 bg-transparent text-danger mx-1',
                title: 'Eliminar' do %>
              <i class="bi bi-trash-fill fs-4 hover-opacity"></i>
            <% end %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

<div class="mt-4 text-end">
  <%= link_to new_admin_user_path, class: 'btn btn-success' do %>
    <i class="bi bi-plus-circle"></i> Agregar Usuario
  <% end %>
</div>
